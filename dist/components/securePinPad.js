var Z=a=>{throw TypeError(a)};var Y=(a,e,t)=>e.has(a)||Z("Cannot "+t);var _=(a,e,t)=>(Y(a,e,"read from private field"),t?t.call(a):e.get(a)),I=(a,e,t)=>e.has(a)?Z("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,t),D=(a,e,t,n)=>(Y(a,e,"write to private field"),n?n.call(a,t):e.set(a,t),t),z=(a,e,t)=>(Y(a,e,"access private method"),t);import{V as ve,W as pe,P as he,X as ne,Y as L,Z as ie,_ as le,$ as ge,b as J,a0 as _e,Q as E,a1 as me,a2 as xe,a3 as be,a4 as ye,a5 as q,R as Ee,a6 as ke,a7 as j,a8 as K,a9 as S,h as we,aa as Ae,K as ee,ab as Ce,ac as Te,ad as $e,ae as Ie,af as De,ag as Me,O as Pe,ah as Se,k as Ne,l as Re,G as X,ai as B,r as F,A as U,v as M,z as te,C as ae,y as He,D as N,F as P,H as G}from"./assets/custom-element-DcIq_hhG.js";import{i as ze}from"./assets/if-qshX4mQv.js";import{r as Le}from"./assets/props-CZcI5d0U.js";function Ve(a,e){return e}function Oe(a,e,t,n){for(var o=[],d=e.length,u=0;u<d;u++)me(e[u].e,o,!0);var b=d>0&&o.length===0&&t!==null;if(b){var h=t.parentNode;xe(h),h.append(t),n.clear(),k(a,e[0].prev,e[d-1].next)}be(o,()=>{for(var c=0;c<d;c++){var g=e[c];b||(n.delete(g.k),k(a,g.prev,g.next)),ye(g.e,!b)}})}function Ye(a,e,t,n,o,d=null){var u=a,b={flags:e,items:new Map,first:null};{var h=a;u=E?q(Te(h)):h.appendChild(ve())}E&&Ee();var c=null,g=!1;pe(()=>{var s=t(),f=he(s)?s:s==null?[]:ne(s),i=f.length;if(g&&i===0)return;g=i===0;let l=!1;if(E){var m=u.data===ke;m!==(i===0)&&(u=j(),q(u),K(!1),l=!0)}if(E){for(var v=null,p,r=0;r<i;r++){if(S.nodeType===8&&S.data===$e){u=S,l=!0,K(!1);break}var x=f[r],H=n(x,r);p=oe(S,b,v,null,x,H,r,o,e),b.items.set(H,p),v=p}i>0&&q(j())}if(!E){var $=we;qe(f,b,u,o,e,($.f&L)!==0,n)}d!==null&&(i===0?c?ie(c):c=le(()=>d(u)):c!==null&&ge(c,()=>{c=null})),l&&K(!0)}),E&&(u=S)}function qe(a,e,t,n,o,d,u,b){var h=a.length,c=e.items,g=e.first,s=g,f,i=null,l=[],m=[],v,p,r,x;for(x=0;x<h;x+=1){if(v=a[x],p=u(v,x),r=c.get(p),r===void 0){var H=s?s.e.nodes_start:t;i=oe(H,e,i,i===null?e.first:i.next,v,p,x,n,o),c.set(p,i),l=[],m=[],s=i.next;continue}if(Ke(r,v,x),r.e.f&L&&ie(r.e),r!==s){if(f!==void 0&&f.has(r)){if(l.length<m.length){var $=m[0],y;i=$.prev;var W=l[0],V=l[l.length-1];for(y=0;y<l.length;y+=1)se(l[y],$,t);for(y=0;y<m.length;y+=1)f.delete(m[y]);k(e,W.prev,V.next),k(e,i,W),k(e,V,$),s=$,i=V,x-=1,l=[],m=[]}else f.delete(r),se(r,s,t),k(e,r.prev,r.next),k(e,r,i===null?e.first:i.next),k(e,i,r),i=r;continue}for(l=[],m=[];s!==null&&s.k!==p;)(d||!(s.e.f&L))&&(f??(f=new Set)).add(s),m.push(s),s=s.next;if(s===null)continue;r=s}l.push(r),i=r,s=r.next}if(s!==null||f!==void 0){for(var O=f===void 0?[]:ne(f);s!==null;)(d||!(s.e.f&L))&&O.push(s),s=s.next;var ce=O.length;if(ce>0){var fe=h===0?t:null;Oe(e,O,fe,c)}}J.first=e.first&&e.first.e,J.last=i&&i.e}function Ke(a,e,t,n){_e(a.v,e),a.i=t}function oe(a,e,t,n,o,d,u,b,h,c){var g=(h&Ie)!==0,s=(h&De)===0,f=g?s?Ae(o):ee(o):o,i=h&Ce?ee(u):u,l={i,v:f,k:d,a:null,e:null,prev:t,next:n};try{return l.e=le(()=>b(a,f,i),E),l.e.prev=t&&t.e,l.e.next=n&&n.e,t===null?e.first=l:(t.next=l,t.e.next=l.e),n!==null&&(n.prev=l,n.e.prev=l.e),l}finally{}}function se(a,e,t){for(var n=a.next?a.next.e.nodes_start:t,o=e?e.e.nodes_start:t,d=a.e.nodes_start;d!==n;){var u=Me(d);o.before(d),d=u}}function k(a,e,t){e===null?a.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Xe(a,e,t,n){var o=a.__attributes??(a.__attributes={});E&&(o[e]=a.getAttribute(e)),o[e]!==(o[e]=t)&&(t==null?a.removeAttribute(e):typeof t!="string"&&Be(a).includes(e)?a[e]=t:a.setAttribute(e,t))}var re=new Map;function Be(a){var e=re.get(a.nodeName);if(e)return e;re.set(a.nodeName,e=[]);for(var t,n=a,o=Element.prototype;o!==n;){t=Se(n);for(var d in t)t[d].set&&e.push(d);n=Pe(n)}return e}var Fe=U('<div class="error svelte-8mx07a" role="alert"> </div>'),Ge=U('<button class="digit-button svelte-8mx07a" type="button"> </button>'),Qe=U('<div class="secure-pin-pad svelte-8mx07a" role="application" aria-label="Pavé numérique sécurisé"><div class="display svelte-8mx07a" role="status" aria-live="polite"><span class="dots svelte-8mx07a"> </span> <!></div> <div class="keypad svelte-8mx07a" role="group" aria-label="Clavier numérique"></div></div>');const Ue={hash:"svelte-8mx07a",code:`.secure-pin-pad.svelte-8mx07a {background:#f5f5f5;padding:20px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1);user-select:none;width:240px;margin:0 auto;}.display.svelte-8mx07a {background:white;padding:15px;border-radius:4px;margin-bottom:15px;text-align:center;min-height:30px;}.dots.svelte-8mx07a {font-size:24px;letter-spacing:4px;}.error.svelte-8mx07a {color:red;font-size:12px;margin-top:5px;}.keypad.svelte-8mx07a {display:grid;grid-template-columns:repeat(3, 1fr);gap:10px;}.digit-button.svelte-8mx07a {background:white;border:1px solid #ddd;border-radius:4px;padding:15px;font-size:18px;cursor:pointer;transition:background-color 0.2s;}.digit-button.svelte-8mx07a:hover {background:#f0f0f0;}.digit-button.svelte-8mx07a:active {background:#e0e0e0;}

  /* Style pour désactiver la sélection de texte */* {-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`};function ue(a,e){Re(a,Ue);const t=Le(e,["$$slots","$$events","$$legacy","$$host"]),{layout:n,onDigitPress:o}=t;let d=ae(""),u=ae("");function b(v){He(u,""),o(v)}function h(v){v.preventDefault()}var c=Qe(),g=N(c),s=N(g),f=N(s,!0);P(s);var i=te(s,2);{var l=v=>{var p=Fe(),r=N(p,!0);P(p),X(()=>G(r,M(u))),F(v,p)};ze(i,v=>{M(u)&&v(l)})}P(g);var m=te(g,2);Ye(m,21,()=>n,Ve,(v,p)=>{var r=Ge(),x=N(r,!0);P(r),X(()=>{Xe(r,"aria-label",`Chiffre ${M(p)??""}`),G(x,M(p))}),B("click",r,()=>b(M(p))),F(v,r)}),P(m),P(c),X(()=>G(f,M(d))),B("selectstart",c,h),B("mousedown",c,h),F(a,c)}customElements.define("securepin-component",Ne(ue,{},[],[],!0));var w,A,C,R,T,Q,de;class We extends HTMLElement{constructor(){super();I(this,T);I(this,w,"");I(this,A,[]);I(this,C);I(this,R,4);const t=this.attachShadow({mode:"closed"});D(this,A,z(this,T,Q).call(this)),D(this,C,new ue({target:t,props:{layout:_(this,A),onDigitPress:z(this,T,de).bind(this)}}))}reset(){D(this,w,""),D(this,A,z(this,T,Q).call(this)),_(this,C)&&_(this,C).$set({layout:_(this,A)})}disconnectedCallback(){_(this,C)&&_(this,C).$destroy()}}w=new WeakMap,A=new WeakMap,C=new WeakMap,R=new WeakMap,T=new WeakSet,Q=function(){return Array.from({length:10},(n,o)=>o).sort(()=>Math.random()-.5)},de=function(t){if(_(this,w).length<_(this,R)&&(D(this,w,_(this,w)+t.toString()),_(this,w).length===_(this,R))){const n=new CustomEvent("pinComplete",{detail:{pin:_(this,w),layout:[..._(this,A)]},bubbles:!0,composed:!0});this.dispatchEvent(n)}};customElements.get("securepin-component")||customElements.define("securepin-component",We);
