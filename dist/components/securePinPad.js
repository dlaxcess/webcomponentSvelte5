var U=a=>{throw TypeError(a)};var O=(a,e,t)=>e.has(a)||U("Cannot "+t);var g=(a,e,t)=>(O(a,e,"read from private field"),t?t.call(a):e.get(a)),D=(a,e,t)=>e.has(a)?U("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,t),M=(a,e,t,s)=>(O(a,e,"write to private field"),s?s.call(a,t):e.set(a,t),t),H=(a,e,t)=>(O(a,e,"access private method"),t);import{V as ve,W as pe,R as he,X as ne,Y as V,Z as ie,_ as le,$ as _e,z as W,a0 as ge,o as E,a1 as xe,a2 as me,a3 as be,a4 as ye,a5 as X,q as Ee,a6 as ke,a7 as Z,a8 as B,a9 as S,J as we,aa as Ae,M as F,ab as Te,ac as Ce,ad as Ie,ae as De,af as Me,ag as Pe,Q as Se,ah as $e,d as Ne,c as Re,a as He,ai as G,e as L,p as Le,t as K,j as z,g as P,i as ze,aj as Ve,k as j,m as qe,s as ee,l as te,n as ae,r as $}from"./assets/custom-element-2hyHYyD5.js";import{i as Ye}from"./assets/if-C4rAqgKF.js";import{r as Oe}from"./assets/props-Jme6zsbp.js";function Xe(a,e){return e}function Be(a,e,t,s){for(var o=[],c=e.length,u=0;u<c;u++)xe(e[u].e,o,!0);var b=c>0&&o.length===0&&t!==null;if(b){var _=t.parentNode;me(_),_.append(t),s.clear(),k(a,e[0].prev,e[c-1].next)}be(o,()=>{for(var d=0;d<c;d++){var h=e[d];b||(s.delete(h.k),k(a,h.prev,h.next)),ye(h.e,!b)}})}function Je(a,e,t,s,o,c=null){var u=a,b={flags:e,items:new Map,first:null};{var _=a;u=E?X(Ce(_)):_.appendChild(ve())}E&&Ee();var d=null,h=!1;pe(()=>{var r=t(),p=he(r)?r:r==null?[]:ne(r),i=p.length;if(h&&i===0)return;h=i===0;let l=!1;if(E){var x=u.data===ke;x!==(i===0)&&(u=Z(),X(u),B(!1),l=!0)}if(E){for(var f=null,v,n=0;n<i;n++){if(S.nodeType===8&&S.data===Ie){u=S,l=!0,B(!1);break}var m=p[n],R=s(m,n);v=oe(S,b,f,null,m,R,n,o,e),b.items.set(R,v),f=v}i>0&&X(Z())}if(!E){var I=we;Ke(p,b,u,o,e,(I.f&V)!==0,s)}c!==null&&(i===0?d?ie(d):d=le(()=>c(u)):d!==null&&_e(d,()=>{d=null})),l&&B(!0)}),E&&(u=S)}function Ke(a,e,t,s,o,c,u,b){var _=a.length,d=e.items,h=e.first,r=h,p,i=null,l=[],x=[],f,v,n,m;for(m=0;m<_;m+=1){if(f=a[m],v=u(f,m),n=d.get(v),n===void 0){var R=r?r.e.nodes_start:t;i=oe(R,e,i,i===null?e.first:i.next,f,v,m,s,o),d.set(v,i),l=[],x=[],r=i.next;continue}if(Qe(n,f,m),n.e.f&V&&ie(n.e),n!==r){if(p!==void 0&&p.has(n)){if(l.length<x.length){var I=x[0],y;i=I.prev;var Q=l[0],q=l[l.length-1];for(y=0;y<l.length;y+=1)re(l[y],I,t);for(y=0;y<x.length;y+=1)p.delete(x[y]);k(e,Q.prev,q.next),k(e,i,Q),k(e,q,I),r=I,i=q,m-=1,l=[],x=[]}else p.delete(n),re(n,r,t),k(e,n.prev,n.next),k(e,n,i===null?e.first:i.next),k(e,i,n),i=n;continue}for(l=[],x=[];r!==null&&r.k!==v;)(c||!(r.e.f&V))&&(p??(p=new Set)).add(r),x.push(r),r=r.next;if(r===null)continue;n=r}l.push(n),i=n,r=n.next}if(r!==null||p!==void 0){for(var Y=p===void 0?[]:ne(p);r!==null;)(c||!(r.e.f&V))&&Y.push(r),r=r.next;var ce=Y.length;if(ce>0){var de=_===0?t:null;Be(e,Y,de,d)}}W.first=e.first&&e.first.e,W.last=i&&i.e}function Qe(a,e,t,s){ge(a.v,e),a.i=t}function oe(a,e,t,s,o,c,u,b,_,d){var h=(_&De)!==0,r=(_&Me)===0,p=h?r?Ae(o):F(o):o,i=_&Te?F(u):u,l={i,v:p,k:c,a:null,e:null,prev:t,next:s};try{return l.e=le(()=>b(a,p,i),E),l.e.prev=t&&t.e,l.e.next=s&&s.e,t===null?e.first=l:(t.next=l,t.e.next=l.e),s!==null&&(s.prev=l,s.e.prev=l.e),l}finally{}}function re(a,e,t){for(var s=a.next?a.next.e.nodes_start:t,o=e?e.e.nodes_start:t,c=a.e.nodes_start;c!==s;){var u=Pe(c);o.before(c),c=u}}function k(a,e,t){e===null?a.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Ue(a,e,t,s){var o=a.__attributes??(a.__attributes={});E&&(o[e]=a.getAttribute(e)),o[e]!==(o[e]=t)&&(t==null?a.removeAttribute(e):typeof t!="string"&&We(a).includes(e)?a[e]=t:a.setAttribute(e,t))}var se=new Map;function We(a){var e=se.get(a.nodeName);if(e)return e;se.set(a.nodeName,e=[]);for(var t,s=a,o=Element.prototype;o!==s;){t=$e(s);for(var c in t)t[c].set&&e.push(c);s=Se(s)}return e}var Ze=K('<span class="placeholder svelte-vfux">Entrez votre code</span>'),Fe=(a,e,t)=>e(P(t)),Ge=K('<button class="digit-button svelte-vfux" type="button"> </button>'),je=K('<form class="secure-pin-pad svelte-vfux" role="application" aria-label="Pavé numérique sécurisé"><div class="keypad-container svelte-vfux" role="group" tabindex="0"><div class="display svelte-vfux" role="status" aria-live="polite"><!></div> <div class="keypad svelte-vfux" role="group" aria-label="Pavé numérique"></div></div></form>');const et={hash:"svelte-vfux",code:".secure-pin-pad.svelte-vfux {display:flex;flex-direction:column;gap:20px;padding:20px;border:1px solid #ccc;border-radius:8px;background-color:#f9f9f9;width:300px;margin:0 auto;}.keypad-container.svelte-vfux {display:flex;flex-direction:column;gap:20px;}.display.svelte-vfux {background:white;padding:10px;border:1px solid #ddd;border-radius:4px;text-align:center;min-height:30px;}.placeholder.svelte-vfux {font-size:18px;color:#ccc;}.keypad.svelte-vfux {display:grid;grid-template-columns:repeat(3, 1fr);gap:10px;}.digit-button.svelte-vfux {padding:15px;font-size:20px;border:1px solid #ddd;border-radius:4px;background:white;cursor:pointer;transition:background-color 0.2s;}.digit-button.svelte-vfux:hover {background-color:#f0f0f0;}.digit-button.svelte-vfux:active {background-color:#e0e0e0;}"};function ue(a,e){ze(e,!0),He(a,et);const t=Oe(e,["$$slots","$$events","$$legacy","$$host"]),{layout:s,onDigitPress:o}=t;let c=ee(""),u=ee("");function b(f){te(c,""),o(f),te(u,P(u)+f.toString())}function _(f){f.preventDefault()}var d=je(),h=z(d);h.__mousedown=_;var r=z(h),p=z(r);{var i=f=>{var v=Ve();j(()=>ae(v,"•".repeat(P(u).length))),L(f,v)},l=f=>{var v=Ze();L(f,v)};Ye(p,f=>{P(u)?f(i):f(l,!1)})}$(r);var x=qe(r,2);Je(x,21,()=>s,Xe,(f,v)=>{var n=Ge();n.__click=[Fe,b,v];var m=z(n,!0);$(n),j(()=>{Ue(n,"aria-label",`Chiffre ${P(v)??""}`),ae(m,P(v))}),L(f,n)}),$(x),$(h),$(d),G("submit",d,f=>f.preventDefault()),G("selectstart",h,_),L(a,d),Le()}Ne(["mousedown","click"]);customElements.define("securepin-component",Re(ue,{},[],[],!0));var w,A,T,N,C,J,fe;class tt extends HTMLElement{constructor(){super();D(this,C);D(this,w,"");D(this,A,[]);D(this,T);D(this,N,4);const t=this.attachShadow({mode:"closed"});M(this,A,H(this,C,J).call(this)),M(this,T,new ue({target:t,props:{layout:g(this,A),onDigitPress:H(this,C,fe).bind(this)}}))}reset(){M(this,w,""),M(this,A,H(this,C,J).call(this)),g(this,T)&&g(this,T).$set({layout:g(this,A)})}disconnectedCallback(){g(this,T)&&g(this,T).$destroy()}}w=new WeakMap,A=new WeakMap,T=new WeakMap,N=new WeakMap,C=new WeakSet,J=function(){return Array.from({length:10},(s,o)=>o).sort(()=>Math.random()-.5)},fe=function(t){if(g(this,w).length<g(this,N)&&(M(this,w,g(this,w)+t.toString()),g(this,w).length===g(this,N))){const s=new CustomEvent("pinComplete",{detail:{pin:g(this,w),layout:[...g(this,A)]},bubbles:!0,composed:!0});this.dispatchEvent(s)}};customElements.get("securepin-component")||customElements.define("securepin-component",tt);
